{"version":3,"sources":["webpack:///./src/components/Admin/Organisms/Rols.vue?660d","webpack:///src/components/Admin/Organisms/Rols.vue","webpack:///./src/components/Admin/Organisms/Rols.vue?9ea0","webpack:///./src/components/Admin/Organisms/Rols.vue","webpack:///./src/components/Admin/Organisms/Logs.vue?05b3","webpack:///src/components/Admin/Organisms/Logs.vue","webpack:///./src/components/Admin/Organisms/Logs.vue?5170","webpack:///./src/components/Admin/Organisms/Logs.vue","webpack:///./src/components/Admin/Pages/Dashboard.vue?4d9b","webpack:///src/components/Admin/Pages/Dashboard.vue","webpack:///./src/components/Admin/Pages/Dashboard.vue?bb84","webpack:///./src/components/Admin/Pages/Dashboard.vue","webpack:///./src/components/Admin/Organisms/Rols.vue?1bd6","webpack:///./src/components/Admin/Organisms/Logs.vue?0953","webpack:///./node_modules/core-js/modules/es.array.index-of.js","webpack:///./src/components/Admin/Organisms/Users.vue?49b6","webpack:///src/components/Admin/Organisms/Users.vue","webpack:///./src/components/Admin/Organisms/Users.vue?c48b","webpack:///./src/components/Admin/Organisms/Users.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_l","rol_item","index","key","staticStyle","on","$event","rol_name_selected","name","model","value","callback","$$v","expression","_v","_s","staticClass","selection_module_first","modules_item","index_modules","moduleSelected","descrip","module_name_selected","permisions","item_permis","indexp","not","length","item_permision","index_permision","class","classColors","traslate","_e","staticRenderFns","data","watch","listModulesRolAccess","computed","methods","primary","permision","secondary","crud","some","success","error","created","roles","default","component","changeOrder","icon_order","expandAll","expands","has_filters","showFilters","init","count_histry","item","getColorByAction","action","getIconByAction","expandAndContract","table","user","Date","moment","toLocaleString","timeZone","hour12","el","headers","action_doby","headersUpdate","action_dobyUpdate","current_page","drawer","clearAllFilters","ref","list_actions","scopedSlots","_u","fn","_b","JSON","stringify","selected","disabled","parent","selectItem","color","icon","es","filter_action","date_piker","_g","seeDates","filter_dates","clearDate","$refs","menu","save","list__users","overflowY","filter_user","list_tables","filter_table","text","sortable","getDataPaginated","order","Math","ceil","cant_to_show","join","filters","filter","actions","dates","mounted","find","Object","entries","map","objeto","toChangeData","valor_updated","changeData","hasOwnProperty","campo","splice","ind","push","form","reset","components","Users","Rols","Logs","$","$indexOf","indexOf","arrayMethodIsStrict","arrayMethodUsesToLength","nativeIndexOf","NEGATIVE_ZERO","STRICT_METHOD","USES_TO_LENGTH","ACCESSORS","1","target","proto","forced","searchElement","apply","arguments","undefined","lista_usuarios","search","openAddModal","dialog","formTitle","rules","required","user_string","user_exist","indexUser","$set","rol_list","list__cargos","list__unidades","chk_pass","show_pass","min","repeart_rule","submit","proxy","unidad","siglas","cargo","nombre","getRolName","rol","editItem","deleteItem","initialize","sheet","removeItem","notification","notification_msg","isLoadingUsers","editedIndex","pass","repeat_pass","full_name","val","close","setTimeout","show_change_pass","Number","parseInt","assign","console","log","id"],"mappings":"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","file":"js/chunk-454b622f.f2d333f5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-card',[_c('v-tabs',{attrs:{\"vertical\":\"\"}},[_vm._l((_vm.roles),function(rol_item,index){return _c('v-tab',{key:index,staticStyle:{\"justify-content\":\"left\"},on:{\"click\":function($event){_vm.rol_name_selected = rol_item.name}},model:{value:(_vm.rol_name_selected),callback:function ($$v) {_vm.rol_name_selected=$$v},expression:\"rol_name_selected\"}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-account-multiple-outline\")]),_vm._v(\" \"+_vm._s(rol_item.name)+\" \")],1)}),_vm._l((_vm.roles),function(rol_item,index){return _c('v-tab-item',{key:index},[_c('v-container',[_c('v-toolbar',{attrs:{\"flat\":\"\",\"color\":\"white\"}},[_c('v-toolbar-title',[_vm._v(\"Módulos\")]),_c('v-divider',{staticClass:\"mx-4\",attrs:{\"inset\":\"\",\"vertical\":\"\"}}),_c('v-chip-group',{staticClass:\"ma-0\",attrs:{\"mandatory\":\"\",\"active-class\":\"primary--text elevation-2\"},model:{value:(_vm.selection_module_first),callback:function ($$v) {_vm.selection_module_first=$$v},expression:\"selection_module_first\"}},_vm._l((_vm.listModulesRolAccess),function(modules_item,index_modules){return _c('v-chip',{key:index_modules,staticClass:\"ma-1\",attrs:{\"outlined\":\"\"},on:{\"click\":function($event){return _vm.moduleSelected(modules_item.descrip)}}},[_vm._v(_vm._s(modules_item.descrip))])}),1)],1),(_vm.module_name_selected !== 'no')?[_c('v-list',{staticClass:\"pt-0 pl-2\",attrs:{\"dense\":\"\"}},[_c('v-subheader',{staticClass:\"subtitle-2\"},[_vm._v(\"PERMISOS:\")]),(_vm.permisions === 'all' )?[_c('h2',{staticClass:\"ml-3\"},[_vm._v(\"Todos los Permisos\")])]:_vm._l((_vm.permisions),function(item_permis,indexp){return [_c('v-divider',{key:'divider'+indexp}),_c('v-list-item',{key:'list'+indexp},[_c('v-list-item-content',[(!item_permis.not)?_c('v-list-item-title',[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-menu-right-outline\")]),_vm._v(\" \"+_vm._s(item_permis.descrip)+\" \")],1):_c('v-list-item-title',[_c('v-icon',{attrs:{\"color\":\"#FF5252\",\"size\":\"20\"}},[_vm._v(\"mdi-music-accidental-double-sharp\")]),_c('span',{staticClass:\"notRoles\"},[_vm._v(_vm._s(item_permis.descrip))]),_c('v-spacer')],1)],1),(item_permis.permisions.length > 0)?_c('v-list-item-action',{staticClass:\"flex-row\"},_vm._l((item_permis.permisions),function(item_permision,index_permision){return _c('v-chip',{key:index_permision,staticClass:\"ml-1\",class:_vm.classColors(item_permision),attrs:{\"small\":\"\"}},[_vm._v(_vm._s(_vm.traslate(item_permision)))])}),1):_vm._e()],1)]})],2)]:_vm._e()],2)],1)})],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container fluid>\r\n    <v-card>\r\n      <v-tabs vertical>\r\n        <v-tab\r\n          style=\"justify-content: left;\"\r\n          v-for=\"(rol_item, index) in roles\"\r\n          :key=\"index\"\r\n          v-model=\"rol_name_selected\"\r\n          @click=\"rol_name_selected = rol_item.name\"\r\n        >\r\n          <v-icon left>mdi-account-multiple-outline</v-icon>\r\n          {{rol_item.name}}\r\n        </v-tab>\r\n\r\n        <!-- Tab Items -->\r\n        <v-tab-item v-for=\"(rol_item, index) in roles\" :key=\"index\">\r\n          <v-container>\r\n            <v-toolbar flat color=\"white\">\r\n              <v-toolbar-title>Módulos</v-toolbar-title>\r\n              <v-divider class=\"mx-4\" inset vertical></v-divider>\r\n              <v-chip-group\r\n                mandatory\r\n                v-model=\"selection_module_first\"\r\n                active-class=\"primary--text elevation-2\"\r\n                class=\"ma-0\"\r\n              >\r\n                <v-chip\r\n                  outlined\r\n                  class=\"ma-1\"\r\n                  v-for=\"(modules_item, index_modules) in listModulesRolAccess\"\r\n                  :key=\"index_modules\"\r\n                  @click=\"moduleSelected(modules_item.descrip)\"\r\n                >{{modules_item.descrip}}</v-chip>\r\n              </v-chip-group>\r\n            </v-toolbar>\r\n            <!-- <v-divider class=\"mx-4\" inset></v-divider> -->\r\n\r\n            <!-- Lista de Permisos  -->\r\n            <template v-if=\"module_name_selected !== 'no'\">\r\n              <v-list dense class=\"pt-0 pl-2\">\r\n                <v-subheader class=\"subtitle-2\">PERMISOS:</v-subheader>\r\n\r\n                <template v-if=\"permisions === 'all' \">\r\n                  <h2 class=\"ml-3\">Todos los Permisos</h2>\r\n                </template>\r\n                <template v-else v-for=\"(item_permis, indexp) in permisions\">\r\n                  <v-divider :key=\"'divider'+indexp\"></v-divider>\r\n\r\n                  <v-list-item :key=\"'list'+indexp\">\r\n                    <v-list-item-content>\r\n                      <v-list-item-title v-if=\"!item_permis.not\">\r\n                        <v-icon small>mdi-menu-right-outline</v-icon>\r\n                        {{item_permis.descrip}}\r\n                      </v-list-item-title>\r\n                      <v-list-item-title v-else>\r\n                        <v-icon color=\"#FF5252\" size=\"20\">mdi-music-accidental-double-sharp</v-icon>\r\n                        <span class=\"notRoles\">{{item_permis.descrip}}</span>\r\n                        <v-spacer></v-spacer>\r\n                      </v-list-item-title>\r\n                      <!-- <v-list-item-subtitle v-html=\"item_permis.subtitle\"></v-list-item-subtitle> -->\r\n                    </v-list-item-content>\r\n                    <v-list-item-action class=\"flex-row\" v-if=\"item_permis.permisions.length > 0\">\r\n                      <v-chip\r\n                        v-for=\"(item_permision,index_permision) in item_permis.permisions\"\r\n                        :key=\"index_permision\"\r\n                        small\r\n                        class=\"ml-1\"\r\n                        :class=\"classColors(item_permision)\"\r\n                      >{{traslate(item_permision)}}</v-chip>\r\n                    </v-list-item-action>\r\n                  </v-list-item>\r\n                </template>\r\n              </v-list>\r\n            </template>\r\n          </v-container>\r\n        </v-tab-item>\r\n      </v-tabs>\r\n    </v-card>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport roles from \"@/security/roles.js\";\r\nimport { getRolModuleAccess, getPermisionsFromModule } from \"@/security/utils\";\r\n\r\nexport default {\r\n  name: \"Rols\",\r\n  data: () => ({\r\n    roles,\r\n    rol_name_selected: \"\",\r\n    module_name_selected: \"\",\r\n    selection_module_first: 0\r\n  }),\r\n  watch: {\r\n    rol_name_selected(val) {\r\n      this.listModulesRolAccess;\r\n      this.selection_module_first = 0;\r\n      this.module_name_selected =\r\n        this.listModulesRolAccess.length &&\r\n        this.listModulesRolAccess[0].descrip;\r\n    }\r\n  },\r\n  computed: {\r\n    listModulesRolAccess() {\r\n      return getRolModuleAccess(this.rol_name_selected);\r\n    },\r\n\r\n    permisions() {\r\n      return this.module_name_selected\r\n        ? getPermisionsFromModule(\r\n            this.rol_name_selected,\r\n            this.module_name_selected\r\n          )\r\n        : [];\r\n    }\r\n  },\r\n  methods: {\r\n    /**\r\n     * Seleccion y deleccion del modulo que se va a visualizar y los permisos del mismo\r\n     */\r\n    moduleSelected(name) {\r\n      this.module_name_selected = name;\r\n    },\r\n\r\n    classColors(permision) {\r\n      const crud = [\"crud\", \"create\", \"read\", \"update\", \"delete\"];\r\n      return {\r\n        primary: permision === \"manage\" || false,\r\n        secondary: crud.some(el => permision === el) || false,\r\n        success:\r\n          ![\"manage\", \"sin permisos\", ...crud].some(el => permision === el) ||\r\n          false,\r\n        error: permision === \"sin permisos\" || false\r\n      };\r\n    },\r\n    traslate(permision) {\r\n      const crud = [\r\n        [\"manage\", \"Todos\"],\r\n        [\"crud\", \"crud\"],\r\n        [\"create\", \"crear\"],\r\n        [\"read\", \"leer\"],\r\n        [\"update\", \"actualizar\"],\r\n        [\"delete\", \"borrar\"]\r\n      ];\r\n      const find = crud.find(el => el[0] === permision)\r\n      return (find && find[1]) || permision\r\n    }\r\n  },\r\n  created() {\r\n    this.rol_name_selected = this.roles[0].name;\r\n    this.module_name_selected = this.roles[0].default;\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.notRoles {\r\n  color: #b71c1c;\r\n  text-decoration: line-through;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rols.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rols.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Rols.vue?vue&type=template&id=3839b374&\"\nimport script from \"./Rols.vue?vue&type=script&lang=js&\"\nexport * from \"./Rols.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Rols.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"overflow-hidden\",staticStyle:{\"position\":\"relative\",\"min-height\":\"80vh\"},attrs:{\"fluid\":\"\"}},[_c('v-row',[_c('v-col',[_c('v-sheet',{staticClass:\"d-flex\"},[_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"primary\",\"outlined\":\"\"},on:{\"click\":_vm.changeOrder}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(_vm._s(_vm.icon_order))]),_vm._v(\"Ordenar \")],1),_c('v-btn',{staticClass:\"ml-1\",attrs:{\"small\":\"\",\"color\":\"primary\",\"outlined\":\"\"},on:{\"click\":function($event){return _vm.expandAll()}}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-arrow-expand-all\")]),_vm._v(\"Expandir \")],1),_c('v-btn',{staticClass:\"ml-1\",attrs:{\"small\":\"\",\"color\":\"primary\",\"outlined\":\"\"},on:{\"click\":function($event){_vm.expands = []}}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-arrow-collapse-all\")]),_vm._v(\"Contraer \")],1),_c('v-spacer'),_c('v-badge',{attrs:{\"value\":_vm.has_filters,\"color\":\"red\",\"offset-x\":\"11\",\"offset-y\":\"11\",\"overlap\":\"\",\"dot\":\"\"}},[_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"primary\",\"outlined\":\"\"},on:{\"click\":function($event){return _vm.showFilters()}}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-filter-outline\")]),_vm._v(\"Filtros \")],1)],1),_c('v-btn',{staticClass:\"ml-1\",attrs:{\"small\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.init()}}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-find-replace\")]),_vm._v(\"Actualizar \")],1)],1),_c('v-divider',{staticClass:\"my-2\"})],1)],1),_c('v-row',[_c('v-col',[(!_vm.count_histry)?_c('v-alert',{attrs:{\"type\":\"warning\",\"dense\":\"\",\"border\":\"left\"}},[_vm._v(\"No hay datos para mostrar ... !\")]):_vm._e(),_c('v-timeline',{attrs:{\"dense\":\"\"}},_vm._l((_vm.list_history),function(item,index){return _c('v-timeline-item',{key:index,staticClass:\"pb-1\",attrs:{\"color\":_vm.getColorByAction(item.action),\"fill-dot\":\"\",\"icon\":_vm.getIconByAction(item.action),\"icon-color\":\"black\",\"small\":\"\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"py-2 pl-1 pr-2 d-flex body-2 justify-space-between mouse-hove\",on:{\"click\":function($event){return _vm.expandAndContract(index)}}},[_c('div',[_c('v-icon',[_vm._v(\"mdi-music-accidental-sharp\")]),_vm._v(\" \"+_vm._s(item['id'])+\" \"),_c('v-icon',{staticClass:\"pl-5\",attrs:{\"title\":\"Tabla\"}},[_vm._v(\"mdi-table\")]),_vm._v(\" \"+_vm._s(item.table)+\" \")],1),_c('div',[_c('v-icon',{attrs:{\"title\":\"Usuario\"}},[_vm._v(\"mdi-account-outline\")]),_vm._v(\" \"+_vm._s(item.user.user)+\" \")],1),_c('div',[_c('v-icon',{attrs:{\"title\":\"Fecha\"}},[_vm._v(\"mdi-clock-outline\")]),_vm._v(\" \"+_vm._s((new Date(item.moment)).toLocaleString('en-gb', { timeZone: 'UTC',hour12:true }))+\" \")],1)]),_c('v-expand-transition',[(_vm.expands.some(function (el) { return el === index; }))?_c('div',[_c('v-divider'),(item.action != 'Update')?_c('v-card-text',[[_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"elevation-5\":\"\",\"dense\":\"\",\"headers\":_vm.headers,\"items\":_vm.action_doby(item.data),\"item-key\":\"name\",\"hide-default-footer\":\"\"}})]],2):_c('v-card-text',[[_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"elevation-5\":\"\",\"dense\":\"\",\"headers\":_vm.headersUpdate,\"items\":_vm.action_dobyUpdate(item.data),\"item-key\":\"name\",\"hide-default-footer\":\"\"}})]],2)],1):_vm._e()])],1)],1)}),1)],1)],1),_c('v-row',[_c('v-pagination',{attrs:{\"page\":\"current_page\",\"total-visible\":\"10\",\"length\":_vm.length,\"circle\":\"\"},model:{value:(_vm.current_page),callback:function ($$v) {_vm.current_page=$$v},expression:\"current_page\"}})],1),_c('v-navigation-drawer',{attrs:{\"height\":\"85vh\",\"width\":\"370\",\"absolute\":\"\",\"temporary\":\"\"},model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c('v-card',{staticClass:\"d-flex flex-column\",attrs:{\"height\":\"100%\"}},[_c('v-card-title',{staticClass:\"pa-0\",attrs:{\"primary-title\":\"\"}},[_c('v-app-bar',{attrs:{\"color\":\"grey lighten-3\",\"dense\":\"\"}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-filter-outline\")]),_c('v-card-title',{staticClass:\"px-2\",attrs:{\"primary-title\":\"\"}},[_vm._v(\"Filtros\")]),_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"small\":\"\",\"color\":\"error\",\"outlined\":\"\"},on:{\"click\":function($event){return _vm.clearAllFilters()}}},[_c('v-icon',[_vm._v(\"mdi-broom\")]),_vm._v(\"Limpiar \")],1)],1)],1),_c('v-card-text',{staticClass:\"px-1\",attrs:{\"primary-title\":\"\"}},[_c('v-form',{ref:\"form\"},[_c('v-combobox',{attrs:{\"items\":_vm.list_actions,\"item-text\":\"es\",\"label\":\"Acciones\",\"multiple\":\"\"},scopedSlots:_vm._u([{key:\"selection\",fn:function(data){return [_c('v-chip',_vm._b({key:JSON.stringify(data.item),staticClass:\"px-2\",attrs:{\"outlined\":\"\",\"input-value\":data.selected,\"disabled\":data.disabled},on:{\"click:close\":function($event){return data.parent.selectItem(data.item)}}},'v-chip',data.attrs,false),[_c('v-avatar',{attrs:{\"color\":data.item.color,\"left\":\"\"}},[_c('v-icon',{attrs:{\"size\":\"16\",\"color\":\"black\"}},[_vm._v(_vm._s(data.item.icon))])],1),_vm._v(\" \"+_vm._s(data.item.es)+\" \")],1)]}}]),model:{value:(_vm.filter_action),callback:function ($$v) {_vm.filter_action=$$v},expression:\"filter_action\"}}),_c('v-menu',{ref:\"menu\",attrs:{\"close-on-content-click\":false,\"return-value\":_vm.date_piker,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"290px\"},on:{\"update:returnValue\":function($event){_vm.date_piker=$event},\"update:return-value\":function($event){_vm.date_piker=$event}},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-text-field',_vm._g({attrs:{\"value\":_vm.seeDates,\"label\":\"Rango de Fecha\",\"readonly\":\"\"}},on))]}}]),model:{value:(_vm.date_piker),callback:function ($$v) {_vm.date_piker=$$v},expression:\"date_piker\"}},[_c('v-date-picker',{attrs:{\"range\":\"\",\"locale\":\"es-es\"},model:{value:(_vm.filter_dates),callback:function ($$v) {_vm.filter_dates=$$v},expression:\"filter_dates\"}},[_c('v-btn',{attrs:{\"small\":\"\",\"text\":\"\",\"color\":\"error\",\"outlined\":\"\"},on:{\"click\":function($event){return _vm.clearDate()}}},[_c('v-icon',[_vm._v(\"mdi-broom\")]),_vm._v(\"Limpiar \")],1),_c('v-btn',{attrs:{\"small\":\"\",\"text\":\"\"},on:{\"click\":function($event){_vm.date_piker = false}}},[_vm._v(\"Cancelar\")]),_c('v-btn',{attrs:{\"small\":\"\",\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$refs.menu.save(_vm.date_piker)}}},[_vm._v(\"OK\")])],1)],1),_c('v-select',{attrs:{\"items\":_vm.list__users,\"item-text\":\"user\",\"item-value\":\"id\",\"label\":\"Usuario\",\"menu-props\":{ overflowY: true, 'offset-y' : true },\"clearable\":\"\"},model:{value:(_vm.filter_user),callback:function ($$v) {_vm.filter_user=$$v},expression:\"filter_user\"}}),_c('v-select',{attrs:{\"clearable\":\"\",\"menu-props\":{ overflowY: true, 'offset-y' : true },\"label\":\"Tablas\",\"items\":_vm.list_tables,\"item-text\":\"table\"},model:{value:(_vm.filter_table),callback:function ($$v) {_vm.filter_table=$$v},expression:\"filter_table\"}})],1)],1),_c('v-spacer')],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- <v-sheet class=\"overflow-hidden\" style=\"position: relative;\"> -->\r\n  <v-container fluid class=\"overflow-hidden\" style=\"position: relative; min-height: 80vh;\">\r\n    <!-- Panel de Opciones -->\r\n    <v-row>\r\n      <v-col>\r\n        <v-sheet class=\"d-flex\">\r\n          <v-btn small color=\"primary\" outlined @click=\"changeOrder\">\r\n            <v-icon left>{{icon_order}}</v-icon>Ordenar\r\n          </v-btn>\r\n          <v-btn small class=\"ml-1\" color=\"primary\" outlined @click=\"expandAll()\">\r\n            <v-icon left>mdi-arrow-expand-all</v-icon>Expandir\r\n          </v-btn>\r\n          <v-btn small class=\"ml-1\" color=\"primary\" outlined @click=\"expands = []\">\r\n            <v-icon left>mdi-arrow-collapse-all</v-icon>Contraer\r\n          </v-btn>\r\n          <v-spacer></v-spacer>\r\n          <v-badge :value=\"has_filters\" color=\"red\" offset-x=\"11\" offset-y=\"11\" overlap dot>\r\n            <v-btn small color=\"primary\" outlined @click=\"showFilters()\">\r\n              <v-icon left>mdi-filter-outline</v-icon>Filtros\r\n            </v-btn>\r\n          </v-badge>\r\n          <v-btn small color=\"primary\" class=\"ml-1\" @click=\"init()\">\r\n            <v-icon left>mdi-find-replace</v-icon>Actualizar\r\n          </v-btn>\r\n        </v-sheet>\r\n        <v-divider class=\"my-2\"></v-divider>\r\n      </v-col>\r\n    </v-row>\r\n    <!-- Listado de Historial -->\r\n    <v-row>\r\n      <v-col>\r\n        <!-- Alerta Vacio -->\r\n        <v-alert\r\n          type=\"warning\"\r\n          dense\r\n          border=\"left\"\r\n          v-if=\"!count_histry\"\r\n        >No hay datos para mostrar ... !</v-alert>\r\n        <v-timeline dense>\r\n          <v-timeline-item\r\n            v-for=\"(item,index) in list_history\"\r\n            :color=\"getColorByAction(item.action)\"\r\n            :key=\"index\"\r\n            fill-dot\r\n            :icon=\"getIconByAction(item.action)\"\r\n            icon-color=\"black\"\r\n            small\r\n            class=\"pb-1\"\r\n          >\r\n            <v-card>\r\n              <v-card-title\r\n                @click=\"expandAndContract(index)\"\r\n                class=\"py-2 pl-1 pr-2 d-flex body-2 justify-space-between mouse-hove\"\r\n              >\r\n                <div>\r\n                  <v-icon>mdi-music-accidental-sharp</v-icon>\r\n                  {{item['id']}}\r\n                  <v-icon title=\"Tabla\" class=\"pl-5\">mdi-table</v-icon>\r\n                  {{item.table}}\r\n                </div>\r\n                <div>\r\n                  <v-icon title=\"Usuario\">mdi-account-outline</v-icon>\r\n                  {{item.user.user}}\r\n                </div>\r\n                <div>\r\n                  <v-icon title=\"Fecha\">mdi-clock-outline</v-icon>\r\n                  <!-- {{Date(item.moment).toLocaleString('en-gb', { hour12:true })}} -->\r\n                  {{ (new Date(item.moment)).toLocaleString('en-gb', { timeZone: 'UTC',hour12:true }) }}\r\n                </div>\r\n              </v-card-title>\r\n              <v-expand-transition>\r\n                <div v-if=\"expands.some(el => el === index)\">\r\n                  <v-divider></v-divider>\r\n                  <v-card-text v-if=\"item.action != 'Update'\">\r\n                    <template>\r\n                      <v-data-table\r\n                        elevation-5\r\n                        dense\r\n                        :headers=\"headers\"\r\n                        :items=\"action_doby(item.data)\"\r\n                        item-key=\"name\"\r\n                        class=\"elevation-1\"\r\n                        hide-default-footer\r\n                      ></v-data-table>\r\n                    </template>\r\n                  </v-card-text>\r\n                  <v-card-text v-else>\r\n                    <template>\r\n                      <v-data-table\r\n                        elevation-5\r\n                        dense\r\n                        :headers=\"headersUpdate\"\r\n                        :items=\"action_dobyUpdate(item.data)\"\r\n                        item-key=\"name\"\r\n                        class=\"elevation-1\"\r\n                        hide-default-footer\r\n                      ></v-data-table>\r\n                    </template>\r\n                  </v-card-text>\r\n                </div>\r\n              </v-expand-transition>\r\n            </v-card>\r\n          </v-timeline-item>\r\n        </v-timeline>\r\n      </v-col>\r\n    </v-row>\r\n    <!-- Paginacion -->\r\n    <v-row>\r\n      <v-pagination\r\n        v-model=\"current_page\"\r\n        page=\"current_page\"\r\n        total-visible=\"10\"\r\n        :length=\"length\"\r\n        circle\r\n      ></v-pagination>\r\n    </v-row>\r\n\r\n    <!-- Navigaton Drawer Laterar para los FILTROS -->\r\n    <v-navigation-drawer height=\"85vh\" width=\"370\" v-model=\"drawer\" absolute temporary>\r\n      <v-card height=\"100%\" class=\"d-flex flex-column\">\r\n        <v-card-title primary-title class=\"pa-0\">\r\n          <v-app-bar color=\"grey lighten-3\" dense>\r\n            <v-icon left>mdi-filter-outline</v-icon>\r\n            <v-card-title primary-title class=\"px-2\">Filtros</v-card-title>\r\n            <v-spacer></v-spacer>\r\n            <v-btn text small color=\"error\" @click=\"clearAllFilters()\" outlined>\r\n              <v-icon>mdi-broom</v-icon>Limpiar\r\n            </v-btn>\r\n          </v-app-bar>\r\n        </v-card-title>\r\n        <v-card-text primary-title class=\"px-1\">\r\n          <!-- Listado de Acciones -->\r\n          <v-form ref=\"form\">\r\n            <v-combobox\r\n              v-model=\"filter_action\"\r\n              :items=\"list_actions\"\r\n              item-text=\"es\"\r\n              label=\"Acciones\"\r\n              multiple\r\n            >\r\n              <template v-slot:selection=\"data\">\r\n                <v-chip\r\n                  class=\"px-2\"\r\n                  :key=\"JSON.stringify(data.item)\"\r\n                  v-bind=\"data.attrs\"\r\n                  outlined\r\n                  :input-value=\"data.selected\"\r\n                  :disabled=\"data.disabled\"\r\n                  @click:close=\"data.parent.selectItem(data.item)\"\r\n                >\r\n                  <v-avatar :color=\"data.item.color\" left>\r\n                    <v-icon size=\"16\" color=\"black\">{{data.item.icon}}</v-icon>\r\n                  </v-avatar>\r\n                  {{ data.item.es }}\r\n                </v-chip>\r\n              </template>\r\n            </v-combobox>\r\n\r\n            <!-- Piker de Fechas -->\r\n            <v-menu\r\n              ref=\"menu\"\r\n              v-model=\"date_piker\"\r\n              :close-on-content-click=\"false\"\r\n              :return-value.sync=\"date_piker\"\r\n              transition=\"scale-transition\"\r\n              offset-y\r\n              min-width=\"290px\"\r\n            >\r\n              <template v-slot:activator=\"{ on }\">\r\n                <v-text-field :value=\"seeDates\" label=\"Rango de Fecha\" readonly v-on=\"on\"></v-text-field>\r\n              </template>\r\n              <v-date-picker v-model=\"filter_dates\" range locale=\"es-es\">\r\n                <v-btn small text color=\"error\" @click=\"clearDate()\" outlined>\r\n                  <v-icon>mdi-broom</v-icon>Limpiar\r\n                </v-btn>\r\n                <v-btn small text @click=\"date_piker = false\">Cancelar</v-btn>\r\n                <v-btn small text color=\"primary\" @click=\"$refs.menu.save(date_piker)\">OK</v-btn>\r\n              </v-date-picker>\r\n            </v-menu>\r\n\r\n            <!-- Lista de Users -->\r\n            <v-select\r\n              v-model=\"filter_user\"\r\n              :items=\"list__users\"\r\n              item-text=\"user\"\r\n              item-value=\"id\"\r\n              label=\"Usuario\"\r\n              :menu-props=\"{ overflowY: true, 'offset-y' : true }\"\r\n              clearable\r\n            ></v-select>\r\n            <!-- Lista de Tablas -->\r\n            <v-select\r\n              clearable\r\n              :menu-props=\"{ overflowY: true, 'offset-y' : true }\"\r\n              label=\"Tablas\"\r\n              v-model=\"filter_table\"\r\n              :items=\"list_tables\"\r\n              item-text=\"table\"\r\n            ></v-select>\r\n          </v-form>\r\n        </v-card-text>\r\n        <v-spacer></v-spacer>\r\n      </v-card>\r\n    </v-navigation-drawer>\r\n  </v-container>\r\n</template>\r\n <script>\r\nimport auth from \"@/security/auth\";\r\nimport { mapState } from \"vuex\";\r\nexport default {\r\n  name: \"Logs\",\r\n  data: () => ({\r\n    order: \"desc\",\r\n    list_history: [],\r\n    list_tables: [],\r\n    expands: [],\r\n    filter_dates: [],\r\n    drawer: false,\r\n    cant_to_show: 30,\r\n    current_page: 1,\r\n    count_histry: 0,\r\n    date_piker: false,\r\n    filter_action: [],\r\n    filter_user: \"\",\r\n    filter_table: \"\",\r\n    dont_show: [\"createdAt\", \"deletedAt\", \"updatedAt\"],\r\n    headers: [\r\n      { text: \"Campo\", value: \"campo\", sortable: false, class: \"blue\" },\r\n      { text: \"Valor\", value: \"valor\", sortable: false, class: \"blue\" }\r\n    ],\r\n    headersUpdate: [\r\n      { text: \"Campo\", value: \"campo\", sortable: false, class: \"blue\" },\r\n      { text: \"Valor\", value: \"valor\", sortable: false, class: \"blue\" },\r\n      {\r\n        text: \"Nuevo Valor\",\r\n        value: \"valor_updated\",\r\n        sortable: false,\r\n        class: \"blue\"\r\n      }\r\n    ],\r\n    list_actions: [\r\n      {\r\n        name: \"Insert\",\r\n        es: \"Adicionar\",\r\n        color: \"success\",\r\n        icon: \"mdi-plus-thick\"\r\n      },\r\n      {\r\n        name: \"Update\",\r\n        es: \"Actualizar\",\r\n        color: \"warning\",\r\n        icon: \"mdi-pencil\"\r\n      },\r\n      { name: \"Delete\", es: \"Eliminar\", color: \"error\", icon: \"mdi-delete\" }\r\n    ]\r\n  }),\r\n\r\n  //****************************   Watchers *********************************/\r\n  watch: {\r\n    current_page(val) {\r\n      this.getDataPaginated();\r\n    }\r\n  },\r\n\r\n  //****************************   Computed *********************************/\r\n  computed: {\r\n    ...mapState('admin',['list__users']),\r\n    icon_order() {\r\n      return this.order === \"desc\"\r\n        ? \"mdi-sort-descending\"\r\n        : \"mdi-sort-ascending\";\r\n    },\r\n    length() {\r\n      return Math.ceil(this.count_histry / this.cant_to_show);\r\n    },\r\n    seeDates() {\r\n      return this.filter_dates.join(\" al \");\r\n    },\r\n    has_filters() {\r\n      if (this.filter_action.length) return true;\r\n      else if (this.filter_dates.length) return true;\r\n      else if (this.filter_user) return true;\r\n      else if (this.filter_table) return true;\r\n      else return false;\r\n    },\r\n    filters() {\r\n      // console.log(this.filter_action,this.filter_dates,this.filter_user,this.filter_table);\r\n      let filter = {};\r\n      filter.actions = this.filter_action.length\r\n        ? this.filter_action.map(el => el.name)\r\n        : [];\r\n\r\n      if (this.filter_dates.length === 1)\r\n        this.filter_dates.push(this.filter_dates[0]);\r\n\r\n      filter.dates = this.filter_dates.length ? this.filter_dates : [];\r\n      filter.user = this.filter_user;\r\n      filter.table = this.filter_table;\r\n      return filter;\r\n    }\r\n  },\r\n\r\n  //****************************   Hoocks *********************************/\r\n  mounted() {\r\n    this.init();\r\n  },\r\n\r\n  //****************************   Methods *********************************/\r\n  methods: {\r\n    changeOrder() {\r\n      this.order = this.order === \"desc\" ? \"asc\" : \"desc\";\r\n      this.init();\r\n    },\r\n    getColorByAction(action) {\r\n      return this.list_actions.find(el => el.name === action).color;\r\n    },\r\n    getIconByAction(action) {\r\n      return this.list_actions.find(el => el.name === action).icon;\r\n    },\r\n    /**\r\n     * @returns {Array} arreglo de objetos {campo, valor} con los campos del historial para INSERTAR y ELIMINAR\r\n     */\r\n    action_doby(data) {\r\n      const objeto = [];\r\n      Object.entries(data).map(el => {\r\n        if (!this.dont_show.some(dc => dc === el[0]))\r\n          objeto.push({\r\n            campo: el[0],\r\n            valor: typeof el[1] === \"object\" ? JSON.stringify(el[1]) : el[1]\r\n          });\r\n      });\r\n      return objeto;\r\n    },\r\n    /**\r\n     * @returns {Array} arreglo de objetos {campo, valor, valor_updated} con los campos del historial para UPDATE\r\n     */\r\n    action_dobyUpdate(data) {\r\n      const objeto = [];\r\n      Object.entries(data.toChangeData).map(el => {\r\n        if (!this.dont_show.some(dc => dc === el[0]))\r\n          objeto.push({\r\n            campo: el[0],\r\n            valor: typeof el[1] === \"object\" ? JSON.stringify(el[1]) : el[1]\r\n          });\r\n      });\r\n      objeto.map(el => {\r\n        el.valor_updated = data.changeData.hasOwnProperty(el.campo)\r\n          ? data.changeData[el.campo]\r\n          : \"\";\r\n      });\r\n      return objeto;\r\n    },\r\n    expandAndContract(index) {\r\n      if (this.expands.some(el => el === index)) {\r\n        const ind = this.expands.indexOf(index);\r\n        this.expands.splice(ind, 1);\r\n      } else this.expands.push(index);\r\n    },\r\n\r\n    async getDataPaginated() {\r\n      const offset = this.cant_to_show * (this.current_page - 1);\r\n      const res = await this.axios.get(\r\n        `/historySystem/${offset}/${this.cant_to_show}/${\r\n          this.order\r\n        }/${JSON.stringify(this.filters)}`\r\n      );\r\n      this.list_history = res.data;\r\n    },\r\n    async init() {\r\n      this.current_page = 1;\r\n      this.getDataPaginated();\r\n      const res = await this.axios.get(\r\n        `/historySystem/count/${JSON.stringify(this.filters)}`\r\n      );\r\n      this.count_histry = res.data;\r\n    },\r\n    expandAll() {\r\n      for (let index = 0; index < this.cant_to_show; index++) {\r\n        this.expands.push(index);\r\n      }\r\n    },\r\n    clearDate() {\r\n      this.filter_dates = [];\r\n      this.date_piker = false;\r\n    },\r\n    clearAllFilters() {\r\n      this.$refs.form.reset();\r\n      this.filter_dates = [];\r\n    },\r\n    async showFilters() {\r\n      this.drawer = !this.drawer;\r\n      const res = await this.axios.get(`/historySystemTables`);\r\n      this.list_tables = res.data;\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style>\r\n.mouse-hove {\r\n  cursor: pointer;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Logs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Logs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Logs.vue?vue&type=template&id=ca036826&\"\nimport script from \"./Logs.vue?vue&type=script&lang=js&\"\nexport * from \"./Logs.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Logs.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-tabs',{staticStyle:{\"min-height\":\"84vh\"},attrs:{\"centered\":\"\",\"background-color\":\"primary\",\"dark\":\"\"}},[_c('v-tab',[_vm._v(\"Usuarios\")]),_c('v-tab',[_vm._v(\"Roles y Permisos\")]),_c('v-tab',[_vm._v(\"Historial\")]),_c('v-tab-item',{attrs:{\"tabindex\":\"\"}},[_c('Users')],1),_c('v-tab-item',{attrs:{\"tabindex\":\"\"}},[_c('Rols')],1),_c('v-tab-item',{attrs:{\"tabindex\":\"\"}},[_c('Logs')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-tabs  centered background-color=\"primary\" dark style=\"min-height : 84vh\">\r\n    <v-tab>Usuarios</v-tab>\r\n    <v-tab>Roles y Permisos</v-tab>\r\n    <v-tab>Historial</v-tab>\r\n    <v-tab-item tabindex>\r\n      <Users/>\r\n    </v-tab-item>\r\n    <v-tab-item tabindex>\r\n      <Rols />\r\n    </v-tab-item>    \r\n    <v-tab-item tabindex>\r\n      <Logs/>\r\n    </v-tab-item>\r\n  </v-tabs>\r\n</template>\r\n\r\n<script>\r\nimport Users from \"../Organisms/Users.vue\";\r\nimport Rols from \"../Organisms/Rols.vue\";\r\nimport Logs from \"../Organisms/Logs.vue\";\r\n\r\nexport default {\r\n  name: \"Dashboard\",\r\n  components: {\r\n    Users,\r\n    Rols,\r\n    Logs\r\n  },\r\n  data : ()=>({\r\n  })\r\n};\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dashboard.vue?vue&type=template&id=382634d8&\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rols.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rols.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Logs.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Logs.vue?vue&type=style&index=0&lang=css&\"","'use strict';\r\nvar $ = require('../internals/export');\r\nvar $indexOf = require('../internals/array-includes').indexOf;\r\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\r\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\r\n\r\nvar nativeIndexOf = [].indexOf;\r\n\r\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\r\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\r\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\r\n\r\n// `Array.prototype.indexOf` method\r\n// https://tc39.github.io/ecma262/#sec-array.prototype.indexof\r\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH }, {\r\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\r\n    return NEGATIVE_ZERO\r\n      // convert -0 to +0\r\n      ? nativeIndexOf.apply(this, arguments) || 0\r\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\r\n  }\r\n});\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.lista_usuarios,\"search\":_vm.search,\"sort-by\":\"id\"},scopedSlots:_vm._u([{key:\"top\",fn:function(){return [_c('v-toolbar',{attrs:{\"flat\":\"\",\"color\":\"white\"}},[_c('v-toolbar-title',{staticClass:\"hidden-xs-only\"},[_vm._v(\"Usuarios:\")]),_c('v-divider',{staticClass:\"hidden-xs-only mx-4\",attrs:{\"inset\":\"\",\"vertical\":\"\"}}),_c('v-text-field',{attrs:{\"prepend-icon\":\"mdi-account-search-outline\",\"label\":\"Buscar\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_c('v-spacer'),_c('v-dialog',{attrs:{\"max-width\":\"500px\",\"persistent\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({staticClass:\"mb-2\",attrs:{\"color\":\"primary\",\"dark\":\"\"},on:{\"click\":_vm.openAddModal}},on),[_c('v-icon',{attrs:{\"dark\":\"\",\"left\":\"\"}},[_vm._v(\"mdi-account-plus-outline\")]),_c('span',{staticClass:\"hidden-xs-only\"},[_vm._v(\"Nuevo\")])],1)]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"blue darken-4\",staticStyle:{\"color\":\"white\"}},[_vm._v(_vm._s(_vm.formTitle))]),_c('v-card-text',{staticClass:\"py-1\"},[_c('v-container',{staticClass:\"py-1\"},[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"}},[_c('v-row',[_c('v-col',{staticClass:\"pa-0\",attrs:{\"cols\":\"12\",\"md\":\"12\"}},[_c('v-text-field',{attrs:{\"required\":\"\",\"rules\":[_vm.rules.required, _vm.rules.user_string, _vm.rules.user_exist],\"label\":\"Usuario\"},model:{value:(_vm.indexUser.user),callback:function ($$v) {_vm.$set(_vm.indexUser, \"user\", $$v)},expression:\"indexUser.user\"}})],1),_c('v-col',{staticClass:\"pa-0\",attrs:{\"cols\":\"12\",\"md\":\"12\"}},[_c('v-text-field',{attrs:{\"rules\":[_vm.rules.required],\"label\":\"Nombre Completo\"},model:{value:(_vm.indexUser.full_name),callback:function ($$v) {_vm.$set(_vm.indexUser, \"full_name\", $$v)},expression:\"indexUser.full_name\"}})],1),_c('v-col',{staticClass:\"pa-0\",attrs:{\"cols\":\"12\",\"md\":\"12\"}},[_c('v-select',{attrs:{\"items\":_vm.rol_list,\"item-text\":\"name\",\"item-value\":\"id\",\"rules\":[_vm.rules.required],\"label\":\"Seleccione el Rol\"},model:{value:(_vm.indexUser.rol),callback:function ($$v) {_vm.$set(_vm.indexUser, \"rol\", $$v)},expression:\"indexUser.rol\"}})],1),_c('v-col',{staticClass:\"pa-0\",attrs:{\"cols\":\"12\",\"md\":\"12\"}},[_c('v-select',{attrs:{\"items\":_vm.list__cargos,\"item-text\":\"nombre\",\"item-value\":\"id\",\"rules\":[_vm.rules.required],\"label\":\"Seleccione el Cargo\"},model:{value:(_vm.indexUser.cargo),callback:function ($$v) {_vm.$set(_vm.indexUser, \"cargo\", $$v)},expression:\"indexUser.cargo\"}})],1),_c('v-col',{staticClass:\"pa-0\",attrs:{\"cols\":\"12\",\"md\":\"12\"}},[_c('v-select',{attrs:{\"items\":_vm.list__unidades,\"item-text\":\"siglas\",\"item-value\":\"id\",\"rules\":[_vm.rules.required],\"label\":\"Seleccione la Unidad\"},model:{value:(_vm.indexUser.unidad),callback:function ($$v) {_vm.$set(_vm.indexUser, \"unidad\", $$v)},expression:\"indexUser.unidad\"}})],1),(_vm.show_change_pass)?_c('v-col',{staticClass:\"pa-0\",attrs:{\"cols\":\"12\",\"md\":\"12\"}},[_c('v-checkbox',{staticClass:\"py-0 my-0\",staticStyle:{\"height\":\"20px!important\"},attrs:{\"label\":\"Cambiar contraseña\"},model:{value:(_vm.chk_pass),callback:function ($$v) {_vm.chk_pass=$$v},expression:\"chk_pass\"}})],1):_vm._e(),(_vm.chk_pass)?_c('v-col',{staticClass:\"pa-0 pr-2\",attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-text-field',{attrs:{\"append-icon\":_vm.show_pass ? 'mdi-eye' : 'mdi-eye-off',\"rules\":[_vm.rules.required, _vm.rules.min],\"type\":_vm.show_pass ? 'text' : 'password',\"name\":\"pass_input\",\"label\":\"Contraseña\",\"counter\":\"\"},on:{\"click:append\":function($event){_vm.show_pass = !_vm.show_pass}},model:{value:(_vm.indexUser.pass),callback:function ($$v) {_vm.$set(_vm.indexUser, \"pass\", $$v)},expression:\"indexUser.pass\"}})],1):_vm._e(),(_vm.chk_pass)?_c('v-col',{staticClass:\"pa-0 pl-2\",attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-text-field',{attrs:{\"append-icon\":_vm.show_pass ? 'mdi-eye' : 'mdi-eye-off',\"rules\":[_vm.rules.required, _vm.rules.min, _vm.repeart_rule],\"type\":_vm.show_pass ? 'text' : 'password',\"name\":\"pass_input\",\"label\":\"Reperir Contraseña\",\"counter\":\"\"},on:{\"click:append\":function($event){_vm.show_pass = !_vm.show_pass}},model:{value:(_vm.indexUser.repeat_pass),callback:function ($$v) {_vm.$set(_vm.indexUser, \"repeat_pass\", $$v)},expression:\"indexUser.repeat_pass\"}})],1):_vm._e()],1)],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"outlined\":\"\",\"enabled\":\"\"},on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\"Cancelar\")]),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"Guardar\")])],1)],1)],1)],1)]},proxy:true},{key:\"item.unidad\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(_vm._s(item.unidad.siglas))]}},{key:\"item.cargo\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(_vm._s(item.cargo.nombre))]}},{key:\"item.rol\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(_vm._s(_vm.getRolName(item.rol)))]}},{key:\"item.action\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-icon',{staticClass:\"mr-4\",on:{\"click\":function($event){return _vm.editItem(item)}}},[_vm._v(\"mdi-pencil\")]),_c('v-icon',{attrs:{\"color\":\"error\"},on:{\"click\":function($event){return _vm.deleteItem(item)}}},[_vm._v(\"mdi-delete\")])]}},{key:\"no-data\",fn:function(){return [_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.initialize}},[_vm._v(\"Actializar\")])]},proxy:true}])}),_c('v-bottom-sheet',{model:{value:(_vm.sheet),callback:function ($$v) {_vm.sheet=$$v},expression:\"sheet\"}},[_c('v-sheet',{staticClass:\"text-center\",attrs:{\"height\":\"200px\"}},[_c('v-btn',{staticClass:\"ma-3 mt-6\",attrs:{\"outlined\":\"\"},on:{\"click\":function($event){_vm.sheet = false}}},[_vm._v(\"Cancelar\")]),_c('v-btn',{staticClass:\"ma-3 mt-6\",attrs:{\"dark\":\"\",\"color\":\"red\"},on:{\"click\":function($event){return _vm.removeItem()}}},[_vm._v(\"Confirmar\")]),_c('div',{staticClass:\"py-3\"},[_vm._v(\" Seguro que desea eliminar el Usuario \"),_c('span',{staticStyle:{\"color\":\"red\",\"font-weight\":\"600\"}},[_vm._v(_vm._s(_vm.indexUser.user))]),_vm._v(\" ? \")])],1)],1),_c('v-snackbar',{attrs:{\"top\":\"\",\"color\":\"success\"},model:{value:(_vm.notification),callback:function ($$v) {_vm.notification=$$v},expression:\"notification\"}},[_vm._v(\" \"+_vm._s(_vm.notification_msg)+\" \"),_c('v-icon',{attrs:{\"dark\":\"\"},on:{\"click\":function($event){_vm.notification = false}}},[_vm._v(\"mdi-close\")])],1),_c('v-overlay',{attrs:{\"value\":!_vm.isLoadingUsers}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":\"64\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container fluid>\r\n    <v-data-table\r\n      :headers=\"headers\"\r\n      :items=\"lista_usuarios\"\r\n      :search=\"search\"\r\n      sort-by=\"id\"\r\n      class=\"elevation-1\"\r\n    >\r\n      <template v-slot:top>\r\n        <v-toolbar flat color=\"white\">\r\n          <v-toolbar-title class=\"hidden-xs-only\">Usuarios:</v-toolbar-title>\r\n          <v-divider class=\"hidden-xs-only mx-4\" inset vertical></v-divider>\r\n          <v-text-field\r\n            v-model=\"search\"\r\n            prepend-icon=\"mdi-account-search-outline\"\r\n            label=\"Buscar\"\r\n            hide-details\r\n          ></v-text-field>\r\n          <v-spacer></v-spacer>\r\n\r\n          <!-- Dialogo de CRUD -->\r\n          <v-dialog v-model=\"dialog\" max-width=\"500px\" persistent>\r\n            <template v-slot:activator=\"{ on }\">\r\n              <v-btn color=\"primary\" dark class=\"mb-2\" v-on=\"on\" @click=\"openAddModal\">\r\n                <v-icon dark left>mdi-account-plus-outline</v-icon>\r\n                <span class=\"hidden-xs-only\">Nuevo</span>\r\n              </v-btn>\r\n            </template>\r\n            <v-card>\r\n              <v-card-title class=\"blue darken-4\" style=\"color:white;\">{{ formTitle }}</v-card-title>\r\n              <v-card-text class=\"py-1\">\r\n                <v-container class=\"py-1\">\r\n                  <v-form ref=\"form\" lazy-validation>\r\n                    <v-row>\r\n                      <v-col cols=\"12\" md=\"12\" class=\"pa-0\">\r\n                        <v-text-field\r\n                          v-model=\"indexUser.user\"\r\n                          required\r\n                          :rules=\"[rules.required, rules.user_string, rules.user_exist]\"\r\n                          label=\"Usuario\"\r\n                        ></v-text-field>\r\n                      </v-col>\r\n                      <v-col cols=\"12\" md=\"12\" class=\"pa-0\">\r\n                        <v-text-field\r\n                          v-model=\"indexUser.full_name\"\r\n                          :rules=\"[rules.required]\"\r\n                          label=\"Nombre Completo\"\r\n                        ></v-text-field>\r\n                      </v-col>\r\n                      <v-col cols=\"12\" md=\"12\" class=\"pa-0\">\r\n                        <v-select\r\n                          v-model=\"indexUser.rol\"\r\n                          :items=\"rol_list\"\r\n                          item-text=\"name\"\r\n                          item-value=\"id\"\r\n                          :rules=\"[rules.required]\"\r\n                          label=\"Seleccione el Rol\"\r\n                        ></v-select>\r\n                      </v-col>\r\n                      <v-col cols=\"12\" md=\"12\" class=\"pa-0\">\r\n                        <v-select\r\n                          v-model=\"indexUser.cargo\"\r\n                          :items=\"list__cargos\"\r\n                          item-text=\"nombre\"\r\n                          item-value=\"id\"\r\n                          :rules=\"[rules.required]\"\r\n                          label=\"Seleccione el Cargo\"\r\n                        ></v-select>\r\n                      </v-col>\r\n                      <v-col cols=\"12\" md=\"12\" class=\"pa-0\">\r\n                        <v-select\r\n                          v-model=\"indexUser.unidad\"\r\n                          :items=\"list__unidades\"\r\n                          item-text=\"siglas\"\r\n                          item-value=\"id\"\r\n                          :rules=\"[rules.required]\"\r\n                          label=\"Seleccione la Unidad\"\r\n                        ></v-select>\r\n                      </v-col>\r\n                      <v-col cols=\"12\" md=\"12\" class=\"pa-0\" v-if=\"show_change_pass\">\r\n                        <v-checkbox\r\n                          class=\"py-0 my-0\"\r\n                          style=\"height: 20px!important;\"\r\n                          v-model=\"chk_pass\"\r\n                          label=\"Cambiar contraseña\"\r\n                        ></v-checkbox>\r\n                      </v-col>\r\n                      <v-col cols=\"12\" md=\"6\" class=\"pa-0 pr-2\" v-if=\"chk_pass\">\r\n                        <v-text-field\r\n                          v-model=\"indexUser.pass\"\r\n                          :append-icon=\"show_pass ? 'mdi-eye' : 'mdi-eye-off'\"\r\n                          :rules=\"[rules.required, rules.min]\"\r\n                          :type=\"show_pass ? 'text' : 'password'\"\r\n                          name=\"pass_input\"\r\n                          label=\"Contraseña\"\r\n                          counter\r\n                          @click:append=\"show_pass = !show_pass\"\r\n                        ></v-text-field>\r\n                      </v-col>\r\n                      <v-col cols=\"12\" md=\"6\" class=\"pa-0 pl-2\" v-if=\"chk_pass\">\r\n                        <v-text-field\r\n                          v-model=\"indexUser.repeat_pass\"\r\n                          :append-icon=\"show_pass ? 'mdi-eye' : 'mdi-eye-off'\"\r\n                          :rules=\"[rules.required, rules.min, repeart_rule]\"\r\n                          :type=\"show_pass ? 'text' : 'password'\"\r\n                          name=\"pass_input\"\r\n                          label=\"Reperir Contraseña\"\r\n                          counter\r\n                          @click:append=\"show_pass = !show_pass\"\r\n                        ></v-text-field>\r\n                      </v-col>\r\n                    </v-row>\r\n                  </v-form>\r\n                </v-container>\r\n              </v-card-text>\r\n\r\n              <v-card-actions>\r\n                <v-spacer></v-spacer>\r\n                <v-btn outlined enabled @click=\"dialog = false\">Cancelar</v-btn>\r\n                <v-btn color=\"primary\" @click=\"submit\">Guardar</v-btn>\r\n              </v-card-actions>\r\n            </v-card>\r\n          </v-dialog>\r\n        </v-toolbar>\r\n      </template>\r\n\r\n      <template v-slot:item.unidad=\"{ item }\">{{ item.unidad.siglas }}</template>\r\n      <template v-slot:item.cargo=\"{ item }\">{{ item.cargo.nombre }}</template>\r\n      <template v-slot:item.rol=\"{ item }\">{{ getRolName(item.rol) }}</template>\r\n\r\n      <!-- Accionar del Editar y Eliminar -->\r\n      <template v-slot:item.action=\"{ item }\">\r\n        <v-icon class=\"mr-4\" @click=\"editItem(item)\">mdi-pencil</v-icon>\r\n        <v-icon color=\"error\" @click=\"deleteItem(item)\">mdi-delete</v-icon>\r\n      </template>\r\n      <template v-slot:no-data>\r\n        <v-btn color=\"primary\" @click=\"initialize\">Actializar</v-btn>\r\n      </template>\r\n    </v-data-table>\r\n\r\n    <!-- Dialogo de confirmacion de ELIMINAR -->\r\n    <v-bottom-sheet v-model=\"sheet\">\r\n      <v-sheet class=\"text-center\" height=\"200px\">\r\n        <v-btn class=\"ma-3 mt-6\" outlined @click=\"sheet = false\">Cancelar</v-btn>\r\n        <v-btn class=\"ma-3 mt-6\" dark color=\"red\" @click=\"removeItem()\">Confirmar</v-btn>\r\n        <div class=\"py-3\">\r\n          Seguro que desea eliminar el Usuario\r\n          <span\r\n            style=\"color: red; font-weight: 600;\"\r\n          >{{indexUser.user}}</span> ?\r\n        </div>\r\n      </v-sheet>\r\n    </v-bottom-sheet>\r\n\r\n    <!-- Mensaje de notificacion -->\r\n    <v-snackbar v-model=\"notification\" top color=\"success\">\r\n      {{notification_msg}}\r\n      <v-icon dark @click=\"notification = false\">mdi-close</v-icon>\r\n    </v-snackbar>\r\n\r\n    <!-- CARGANDO... -->\r\n    <v-overlay :value=\"!isLoadingUsers\">\r\n      <v-progress-circular indeterminate size=\"64\"></v-progress-circular>\r\n    </v-overlay>\r\n  </v-container>\r\n</template>\r\n<script>\r\nimport auth from \"@/security/auth\";\r\nimport rolesConfig from \"@/security/roles\";\r\nimport { mapGetters, mapState, mapMutations } from \"vuex\";\r\n\r\nexport default {\r\n  data: () => ({\r\n    dialog: false,\r\n    notification: false,\r\n    notification_msg: \"\",\r\n    show_pass: false,\r\n    show_change_pass: false,\r\n    chk_pass: false,\r\n    sheet: false,\r\n    search: \"\",\r\n    rol_list: [],\r\n    editedIndex: -1,\r\n    indexUser: {\r\n      id: \"\",\r\n      user: \"\",\r\n      full_name: \"\",\r\n      pass: \"\",\r\n      cargo: \"\",\r\n      unidad: \"\",\r\n      rol: \"\"\r\n    },\r\n    rules: {\r\n      required: value => !!value || \"Obligatorio\",\r\n      min: v => (v && v.length >= 8) || \"Minimo 8 characters\",\r\n      user_string: v =>\r\n        /^[A-Za-z0-9_]+$/.test(v) || \"Solo debe contener (letras, números y _ )\"\r\n    },\r\n    headers: [\r\n      { text: \"ID\", value: \"id\" },\r\n      { text: \"Usuario\", value: \"user\" },\r\n      { text: \"Nombre Completo\", value: \"full_name\" },\r\n      { text: \"Rol\", value: \"rol\" },\r\n      { text: \"Cargo\", value: \"cargo\" },\r\n      { text: \"Unidad\", value: \"unidad\" },\r\n      { text: \"Acciones\", value: \"action\", sortable: false, width: 100 }\r\n    ]\r\n  }),\r\n\r\n  // ---------------------------- Computed -----------------------------\r\n  computed: {\r\n    formTitle() {\r\n      return this.editedIndex === -1\r\n        ? \"Nuevo Usuario\"\r\n        : `Editar datos del Usuario`;\r\n    },\r\n    repeart_rule() {\r\n      return this.indexUser.pass === this.indexUser.repeat_pass\r\n        ? true\r\n        : \"No cohinciden las contraseñas!\";\r\n    },\r\n    form() {\r\n      return {\r\n        user: this.indexUser.user,\r\n        full_name: this.indexUser.full_name,\r\n        pass: this.indexUser.pass,\r\n        repeat_pass: this.indexUser.repeat_pass,\r\n        rol: this.indexUser.rol,\r\n        unidad: this.indexUser.unidad,\r\n        cargo: this.indexUser.cargo\r\n      };\r\n    },\r\n    ...mapState(\"admin\", {\r\n      lista_usuarios: \"list__users\"\r\n    }),\r\n    ...mapGetters(\"admin\", {\r\n      list__unidades: \"orderUnidades\",\r\n      list__cargos: \"orderCargos\",\r\n      isLoadingUsers: \"isLoadingUsers\"\r\n    })\r\n  },\r\n\r\n  // ---------------------------- Watch -----------------------------\r\n  watch: {\r\n    dialog(val) {\r\n      val || this.close();\r\n    },\r\n    lista_usuarios(val) {\r\n      this.rules.user_exist = v =>\r\n        this.editedIndex === -1\r\n          ? !this.lista_usuarios.some(u => u.user === v) ||\r\n            \"el usuario ya está en uso!\"\r\n          : !this.lista_usuarios.some(\r\n              u => u.user === v && u.id !== this.indexUser.id\r\n            ) || \"el usuario ya está en uso!\";\r\n    }\r\n  },\r\n\r\n  // ---------------------------- Hoocks -----------------------------\r\n  created() {\r\n    this.initialize();\r\n  },\r\n\r\n  // ---------------------------- Methods -----------------------------\r\n  methods: {\r\n    ...mapMutations(\"admin\", [\r\n      \"addListUsers\",\r\n      \"updateListUsers\",\r\n      \"deleteListUsers\"\r\n    ]),\r\n    getRolName(value) {\r\n      return rolesConfig.find(r => r.id == value).name || \"Rol sin nombre\";\r\n    },\r\n\r\n    async initialize() {\r\n      this.rol_list = rolesConfig;\r\n    },\r\n\r\n    close() {\r\n      this.$refs.form.reset();\r\n      setTimeout(() => {\r\n        this.editedIndex = -1;\r\n      }, 300);\r\n    },\r\n\r\n    async submit() {\r\n      if (this.$refs.form.validate()) {\r\n        if (this.editedIndex > -1) {\r\n          const response = await this.axios.put(\r\n            `/userSystem/${this.indexUser.id}`,\r\n            { change_pass: this.chk_pass, ...this.form }\r\n          );\r\n          this.updateListUsers({ id: this.indexUser.id, data: response.data });\r\n          this.notification_msg = `usuario actualizado correctamente`;\r\n        } else {\r\n          const response = await this.axios.post(\"/userSystem\", this.form);\r\n          this.addListUsers(response.data);\r\n          this.notification_msg = `usuario ${response.data.user} creado correctamente`;\r\n        }\r\n        this.notification = true;\r\n        this.$refs.form.reset();\r\n        this.dialog = false;\r\n      }\r\n    },\r\n\r\n    editItem(item) {\r\n      this.show_change_pass = true;\r\n      this.chk_pass = false;\r\n      this.editedIndex = this.lista_usuarios.indexOf(item);\r\n      item.rol = Number.parseInt(item.rol);\r\n      this.indexUser = Object.assign(\r\n        {},\r\n        {\r\n          id: item.id,\r\n          user: item.user,\r\n          full_name: item.full_name,\r\n          rol: item.rol,\r\n          unidad: item.unidad.id,\r\n          cargo: item.cargo.id\r\n        }\r\n      );\r\n      this.dialog = true;\r\n    },\r\n\r\n    openAddModal() {\r\n      this.show_change_pass = false;\r\n      console.log(this.chk_pass, this.indexUser);\r\n      this.chk_pass = true;\r\n      this.indexUser = { /* id: \"\", user: \"\", full_name: \"\", rol: \"\", unidad: \"\",\r\n          cargo:\"\"  */};\r\n    },\r\n\r\n    deleteItem(item) {\r\n      this.sheet = true;\r\n      this.indexUser = {\r\n        id: item.id,\r\n        user: item.user,\r\n        full_name: item.full_name,\r\n        rol: item.rol\r\n      };\r\n    },\r\n    async removeItem() {\r\n      const userdeleted = await this.axios.delete(\r\n        `/userSystem/${this.indexUser.id}`\r\n      );\r\n      this.deleteListUsers(this.indexUser);\r\n      this.notification_msg = `El usuario ${userdeleted.data.user} fue eliminado correctamente`;\r\n      this.notification = true;\r\n      this.sheet = false;\r\n      this.editedIndex = -1;\r\n    }\r\n  }\r\n};\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Users.vue?vue&type=template&id=26769f8a&\"\nimport script from \"./Users.vue?vue&type=script&lang=js&\"\nexport * from \"./Users.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}