(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c7ae4"],{"523d":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"my-2 pr-1 align-center"},[a("v-textarea",{ref:"nametask",staticClass:"pa-1 pb-0",attrs:{autofocus:"",placeholder:"Nueva tarea","auto-grow":"",outlined:"",rows:"1","row-height":"15",rules:[e.rules.require],dense:""},model:{value:e.dname,callback:function(t){e.dname=t},expression:"dname"}}),a("v-card-actions",{staticClass:"pt-0"},[a("v-btn",{attrs:{small:"",icon:""},on:{click:e.eventClose}},[a("v-icon",[e._v("$close")])],1),a("v-spacer"),e.edit?a("v-btn",{attrs:{small:"",color:"error",icon:""},on:{click:e.deleteTask}},[a("v-icon",[e._v("$delete")])],1):e._e(),e.edit?a("v-btn",{attrs:{"x-small":"",color:"warning"},on:{click:e.saveTask}},[e._v("Guardar")]):a("v-btn",{attrs:{"x-small":"",color:"primary"},on:{click:e.createTask}},[e._v("Crear")])],1)],1)},n=[],s=(a("b0c0"),a("a9e3"),a("96cf"),a("1da1")),o=a("5530"),c=a("2f62"),i={props:{idtask:Number,edit:Boolean,name:String,idtable:Number},data:function(){return{dname:"",rules:{require:function(e){return!!e||"Campo obligatorio"}}}},beforeMount:function(){this.dname=this.name},methods:Object(o["a"])({},Object(c["d"])(["showNotify"]),{createTask:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$refs.nametask.validate()){t.next=12;break}return t.prev=1,t.next=4,e.axios.post("/task",{name:e.dname,tableId:e.idtable});case 4:a=t.sent,e.$emit("createtask",a.data),e.showNotify({msg:"Nueva tarea creada satisfactoriamente"}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),e.showNotify({msg:"Error Nueva tarea : ".concat(t.t0),color:"error"});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},saveTask:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$refs.nametask.validate()){t.next=17;break}return t.prev=1,a={name:e.dname,tableId:e.idtable},t.next=5,e.axios.put("/task/".concat(e.idtask),a);case 5:if(r=t.sent,!r.data){t.next=11;break}e.$emit("edittask",Object(o["a"])({id:e.idtask},a)),e.showNotify({msg:"Tarea editada satisfactoriamente"}),t.next=12;break;case 11:throw new Error("Error al editar tarea");case 12:t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](1),e.showNotify({msg:"Error editar tarea : ".concat(t.t0),color:"error"});case 17:case"end":return t.stop()}}),t,null,[[1,14]])})))()},deleteTask:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$emit("deletetask");case 1:case"end":return t.stop()}}),t)})))()},eventClose:function(){this.$emit("on-close")}})},l=i,u=a("2877"),d=Object(u["a"])(l,r,n,!1,null,null,null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0c7ae4.968adcee.js.map