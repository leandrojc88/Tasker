(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f517798","chunk-2d0d6590"],{"3b72":function(t,e,a){"use strict";var o=a("5530"),i=a("5f7d"),n=a("2f62");e["a"]={components:{Table:i["default"]},data:function(){return{new__table:!1}},computed:Object(o["a"])({},Object(n["e"])("app",["list__tables","open_table","close_table"]),{list__tablesPositioned:function(){return this.list__tables.sort((function(t,e){return t.position<e.position}))}}),methods:Object(o["a"])({},Object(n["d"])("app",["createTempTable"]),{},Object(n["b"])("app",["loadTables","saveTableToProject"]),{is__last:function(t){return this.list__tables.length-1===t},onChange:function(t){if(t.hasOwnProperty("moved")){var e=t.moved;this.axios.put("/table/moveto/".concat(e.element.id),{oldposs:e.oldIndex+1,newposs:e.newIndex+1})}},createNewTable:function(t){this.createTempTable(t+1)}})}},"71bb":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{width:"375"}},[a("v-card-title",{staticClass:"align-center",attrs:{"primary-title":""}},[a("v-icon",{attrs:{color:"grey darken-4",left:""}},[t._v("$project")]),t._v(" "+t._s(t.project__title)+" ")],1),a("v-card-text",[a("v-form",{ref:"form"},[a("v-text-field",{attrs:{rules:[t.rules.require],autofocus:"",dense:"",outlined:"",label:"Nombre"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("v-textarea",{attrs:{label:"DescripciÃ³n","auto-grow":"",outlined:"",rows:"1","row-height":"100",rules:[t.rules.require],dense:""},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),a("v-btn",{attrs:{block:"",color:t.edit?"warning":"primary"},on:{click:t.submit}},[t._v(t._s(t.project__action))]),a("v-btn",{staticClass:"mt-2",attrs:{block:"",text:"",color:"error"},on:{click:t.onClose}},[t._v("Cancelar")])],1)],1)],1)},i=[],n=(a("a4d3"),a("e01a"),a("99af"),a("b0c0"),a("96cf"),a("1da1")),r=a("5530"),s=a("2f62"),c={props:{edit:Boolean,project:Object},data:function(){return{id:0,name:"",description:"",rules:{require:function(t){return!!t||"Campo obligatorio"}}}},beforeMount:function(){this.assingProject()},watch:{project:function(t){this.assingProject()}},computed:Object(r["a"])({},Object(s["e"])(["currentUser"]),{project__title:function(){return this.edit?"Editar Proyecto":"Nuevo Proyecto"},project__action:function(){return this.edit?"Guardar":"Crear"}}),methods:Object(r["a"])({},Object(s["b"])("app",["onAddProject","onUpdateProject"]),{submit:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.$refs.form.validate()){e.next=10;break}if(t.edit){e.next=6;break}return e.next=4,t.onAddProject({name:t.name,description:t.description,UserId:t.currentUser.id});case 4:e.next=9;break;case 6:return e.next=8,t.onUpdateProject({id:t.id,name:t.name,description:t.description,UserId:t.currentUser.id});case 8:t.$route.params.project_name!==t.name&&t.$router.push({path:"/app/project/".concat(t.id,"/").concat(t.name)});case 9:t.onClose();case 10:case"end":return e.stop()}}),e)})))()},onClose:function(){this.$refs.form.reset(),this.id=0,this.name="",this.description="",this.$emit("close")},assingProject:function(){this.project&&(this.id=this.project.id,this.name=this.project.name,this.description=this.project.description)}})},l=c,d=a("2877"),p=Object(d["a"])(l,o,i,!1,null,null,null);e["default"]=p.exports},b549:function(t,e,a){"use strict";var o=a("d31e"),i=a.n(o);i.a},d31e:function(t,e,a){},f8c5:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[a("v-toolbar",{staticClass:"bgopacity",attrs:{color:"white",dense:""}},[a("v-toolbar-title",{staticClass:"d-flex justify-center",staticStyle:{width:"100%"}},[a("v-icon",{attrs:{left:""}},[t._v("$project")]),t._v(" "+t._s(t.project.name.firstUpperCase())+" ")],1),a("v-btn",{staticClass:"ml-auto",attrs:{color:"teal darken-4",icon:""},on:{click:t.onEditProject}},[a("v-icon",[t._v("mdi-pencil")])],1),a("v-btn",{attrs:{color:"red darken-4",icon:""},on:{click:function(e){t.confirm=!0}}},[a("v-icon",[t._v("mdi-delete")])],1)],1),a("v-container",{staticClass:"d-flex scrolled pt-2",staticStyle:{height:"85vh"},attrs:{fluid:""}},[t.open_table?a("Table",{attrs:{open:"",idtable:t.open_table.id,position:t.open_table.position,is__last:t.is__last(-1)},on:{createnewtable:t.createNewTable}}):t._e(),a("draggable",{staticClass:"d-flex",attrs:{list:t.list__tablesPositioned,group:"tables"},on:{change:t.onChange}},t._l(t.list__tablesPositioned,(function(e,o){return a("Table",{key:o,attrs:{idtable:e.id,position:e.position,name:e.name,is__last:t.is__last(o)},on:{createnewtable:t.createNewTable,sevetable:t.saveTable}})})),1),t.close_table?a("Table",{staticClass:"mr-5",attrs:{close:"",idtable:t.close_table.id,position:t.close_table.position}}):t._e(),a("div",{staticStyle:{opacity:"0"}},[t._v(".")])],1),a("v-dialog",{attrs:{transition:"dialog-transition",width:"fit-content",persistent:""},model:{value:t.dialog__project,callback:function(e){t.dialog__project=e},expression:"dialog__project"}},[a("manage-project",{attrs:{edit:"",project:t.edit__project},on:{close:t.closeEdit}})],1),a("v-bottom-sheet",{model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[a("v-sheet",{staticClass:"text-center",attrs:{height:"200px"}},[a("v-btn",{staticClass:"ma-3 mt-6",attrs:{outlined:""},on:{click:function(e){t.confirm=!1}}},[t._v("Cancelar")]),a("v-btn",{staticClass:"ma-3 mt-6",attrs:{dark:"",color:"error"},on:{click:t.deleted}},[t._v("Confirmar")]),a("div",{staticClass:"py-3"},[t._v("Seguro que desea eliminar el projecto")])],1)],1)],1)},i=[],n=(a("a4d3"),a("e01a"),a("96cf"),a("1da1")),r=a("5530"),s=a("2f62"),c=a("71bb"),l=a("3b72"),d=a("310e"),p=a.n(d),u={components:{ManageProject:c["default"],draggable:p.a},mixins:[l["a"]],props:["description"],data:function(){return{dialog__project:!1,confirm:!1,project:{id:"",name:""},edit__project:{}}},mounted:function(){this.asignData()},computed:Object(r["a"])({},Object(s["c"])("app",["getProjectByPk"])),watch:{$route:function(t,e){this.asignData()}},methods:Object(r["a"])({},Object(s["b"])("app",["onDeleteProject"]),{saveTable:function(t){this.saveTableToProject({table:t,projectId:this.project.id})},deleted:function(){this.onDeleteProject(this.project),this.$router.push({path:"/app"})},onEditProject:function(){var t=this.getProjectByPk(this.$route.params.id);this.edit__project=Object.assign({},Object(r["a"])({},this.project,{description:t.description})),this.dialog__project=!0},closeEdit:function(){this.edit__project=null,this.dialog__project=!1},asignData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.project=Object.assign({},{id:t.$route.params.id,name:t.$route.params.project_name,description:t.description}),t.loadTables(t.project.id);case 2:case"end":return e.stop()}}),e)})))()}})},b=u,f=(a("b549"),a("2877")),_=Object(f["a"])(b,o,i,!1,null,"36f2c995",null);e["default"]=_.exports}}]);
//# sourceMappingURL=chunk-0f517798.21abb0c5.js.map